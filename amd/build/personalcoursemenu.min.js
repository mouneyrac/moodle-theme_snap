define(["jquery","core/log","core/ajax","core/notification"],function(a,b,c,d){var e=function(){var b=function(b,f){console.log("Call change_category ajax."),c.call([{methodname:"theme_snap_user_categories",args:{userid:2,action:b,categoryid:f},done:function(b){console.log("Change category ajax answer:"),console.log(b),a(".courseinfo").css("display","none"),a(".menu_mycategory").css("color","#b1f9ff");var c="Categories: ",d=JSON.parse(b.listing);if(0==d.length)a(".editcat").click();else{console.log(d);var f=!0;d.forEach(function(b,d){a("[data-categoryid="+b+"]").css("display","inline"),a(".menu_mycategory[data-categoryid="+b+"]").css("color","white"),f?f=!1:c+=", ";var e="#menu_mycategory_"+b;console.log(a(e)),c+=a(e).text()})}e.text(c)},fail:function(a){console.log("Change category ajax error"),d.exception(a)}}],!0,!0)},e=a("section#fixy-my-courses div h2");a(".menu_mycategory_li").click(function(){console.log(a(this).css("color"));var c=a(this).find(".menu_mycategory");"rgb(255, 255, 255)"==c.css("color")?(console.log("removing"),c.css("color","#b1f9ff"),b("remove",c.attr("data-categoryid"))):(c.css("color","white"),console.log(c.attr("data-categoryid")),b("add",c.attr("data-categoryid")))}),e.text("All courses"),a("input:radio[id='option1']").change(function(){a(this).is(":checked")&&(e.text("All Courses"),a(".editcat").css("visibility","hidden"),a("[data-courseid='2']").css("display","none"),a("[data-courseid='3']").css("display","inline-block"),a("[data-courseid='4']").css("display","inline-block"),a("[data-courseid='5']").css("display","inline-block"),a("[data-courseid='6']").css("display","inline-block"),a("[data-courseid='7']").css("display","inline-block"),a("[data-courseid='8']").css("display","inline-block"),a("[data-courseid='9']").css("display","inline-block"))}),a("#leftsidepanel").css("transition","width 0.1s"),a("#catbutton").css("transition","position 0.1s, top 0.1s, left 0.1s, margin 0.1s, height 0.1s, width 0.1s"),a("#allcoursesbutton").css("transition","opacity 0.05s ease"),a("#azbutton").css("transition","opacity 0.05s ease"),a("#catbutton .svg-icon").css("transition","opacity 0.1s ease");a("input:radio[id='option2']").change(function(){a(this).is(":checked")&&(b("listing"),a(".editcat").css("visibility","visible"))})};return new e});